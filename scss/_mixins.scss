@use 'abstracts/variables' as *;
@use 'sass:map' as map;

@mixin text-variants($colors, $breakpoints: $grid-breakpoints) {
  @each $name, $color in $colors {
    .text-#{$name} {
      color: $color !important;
    }
    @each $breakpoint, $width in $breakpoints {
      @include media-breakpoint-up($breakpoint) {
        .text-#{$name}-#{$breakpoint} {
          color: $color !important;
        }
      }
    }
  }
}

@mixin background-variants($colors, $breakpoints: $grid-breakpoints) {
  @each $name, $color in $colors {
    .bg-#{$name} {
      background-color: $color !important;
    }
    @each $breakpoint, $width in $breakpoints {
      @include media-breakpoint-up($breakpoint) {
        .bg-#{$name}-#{$breakpoint} {
          background-color: $color !important;
        }
      }
    }
  }
}

// -----------------------------
// ‚úçÔ∏è Typography
// -----------------------------
@mixin font-size-utilities($sizes, $breakpoints: $grid-breakpoints) {
  @each $name, $size in $sizes {
    .#{$name} {
      font-size: $size !important;
    }
    @each $breakpoint, $width in $breakpoints {
      @include media-breakpoint-up($breakpoint) {
        .#{$name}-#{$breakpoint} {
          font-size: $size !important;
        }
      }
    }
  }
}

@mixin font-weight-utilities($weights, $breakpoints: $grid-breakpoints) {
  @each $name, $weight in $weights {
    .fw-#{$name} {
      font-weight: $weight !important;
    }
    @each $breakpoint, $width in $breakpoints {
      @include media-breakpoint-up($breakpoint) {
        .fw-#{$name}-#{$breakpoint} {
          font-weight: $weight !important;
        }
      }
    }
  }
}

// -----------------------------
// üî≤ Borders
// -----------------------------
// helper: emit correct border properties depending on side key
@mixin emit-border($side-key, $width-value, $style-value, $color-value) {
  @if $side-key == 'all' {
    border: $width-value $style-value $color-value !important;
  } @else {
    border-#{$side-key}: $width-value $style-value $color-value !important;
  }
}

@mixin border-utilities(
  $border-sides,
  $border-widths,
  $border-styles,
  $border-colors,
  $breakpoints: $grid-breakpoints
) {
  @each $side-key, $side-value in $border-sides {
    @each $width-name, $width-value in $border-widths {
      @each $style-name, $style-value in $border-styles {
        @each $color-name, $color-value in $border-colors {
          .border-#{$side-key}-#{$width-name}-#{$style-name}-#{$color-name} {
            @include emit-border(
              $side-key,
              $width-value,
              $style-value,
              $color-value
            );
          }
        }
      }
    }
    @each $breakpoint-key, $breakpoint-value in $breakpoints {
      @include media-breakpoint-up($breakpoint-key) {
        @each $width-name, $width-value in $border-widths {
          @each $style-name, $style-value in $border-styles {
            @each $color-name, $color-value in $border-colors {
              .border-#{$side-key}-#{$width-name}-#{$style-name}-#{$color-name}-#{$breakpoint-key} {
                @include emit-border(
                  $side-key,
                  $width-value,
                  $style-value,
                  $color-value
                );
              }
            }
          }
        }
      }
    }
  }
}

@mixin border-radius-utilities(
  $border-radius,
  $breakpoints: $grid-breakpoints
) {
  @each $name, $radius in $border-radius {
    .border-radius-#{$name} {
      border-radius: $radius !important;
    }
    @each $breakpoint, $width in $breakpoints {
      @include media-breakpoint-up($breakpoint) {
        .border-radius-#{$name}-#{$breakpoint} {
          border-radius: $radius !important;
        }
      }
    }
  }
}

// -----------------------------
// üß± Display
// -----------------------------
@mixin display-utilities($displays, $breakpoints: $grid-breakpoints) {
  @each $name, $value in $displays {
    .d-#{$name} {
      display: $value !important;
    }
    @each $breakpoint, $width in $breakpoints {
      @include media-breakpoint-up($breakpoint) {
        .d-#{$name}-#{$breakpoint} {
          display: $value !important;
        }
      }
    }
  }
}

@mixin flex-direction-utilities(
  $flex-directions,
  $breakpoints: $grid-breakpoints
) {
  @each $name, $value in $flex-directions {
    .flex-#{$name} {
      flex-direction: $value !important;
    }
    @each $breakpoint, $width in $breakpoints {
      @include media-breakpoint-up($breakpoint) {
        .flex-#{$name}-#{$breakpoint} {
          flex-direction: $value !important;
        }
      }
    }
  }
}

@mixin justify-content-utilities(
  $justify-content,
  $breakpoints: $grid-breakpoints
) {
  @each $name, $value in $justify-content {
    .justify-#{$name} {
      justify-content: $value !important;
    }
    @each $breakpoint, $width in $breakpoints {
      @include media-breakpoint-up($breakpoint) {
        .justify-#{$name}-#{$breakpoint} {
          justify-content: $value !important;
        }
      }
    }
  }
}

@mixin vertical-align-utilities(
  $vertical-align,
  $breakpoints: $grid-breakpoints
) {
  @each $name, $value in $vertical-align {
    .vertical-#{$name} {
      vertical-align: $value !important;
    }
    @each $breakpoint, $width in $breakpoints {
      @include media-breakpoint-up($breakpoint) {
        .vertical-#{$name}-#{$breakpoint} {
          vertical-align: $value !important;
        }
      }
    }
  }
}

@mixin size-utilities($size-values, $breakpoints: $grid-breakpoints) {
  @each $key, $value in $size-values {
    .w-#{$key} {
      width: #{$value};
    }
    .h-#{$key} {
      height: #{$value};
    }
    @each $breakpoint, $width in $breakpoints {
      @include media-breakpoint-up($breakpoint) {
        .w-#{$key}-#{$breakpoint} {
          width: #{$value};
        }
        .h-#{$key}-#{$breakpoint} {
          height: #{$value};
        }
      }
    }
  }
}

// -----------------------------
// üìè Spacing
// -----------------------------
@mixin margin-utilities($spacers, $breakpoints: $grid-breakpoints) {
  @each $key, $value in $spacers {
    .m-#{$key} {
      margin: $value !important;
    }
    .mt-#{$key} {
      margin-top: $value !important;
    }
    .mb-#{$key} {
      margin-bottom: $value !important;
    }
    .ml-#{$key} {
      margin-left: $value !important;
    }
    .mr-#{$key} {
      margin-right: $value !important;
    }
    .mx-#{$key} {
      margin-left: $value !important;
      margin-right: $value !important;
    }
    .my-#{$key} {
      margin-top: $value !important;
      margin-bottom: $value !important;
    }
    @each $breakpoint, $width in $breakpoints {
      @include media-breakpoint-up($breakpoint) {
        .m-#{$key}-#{$breakpoint} {
          margin: $value !important;
        }
        .mt-#{$key}-#{$breakpoint} {
          margin-top: $value !important;
        }
        .mb-#{$key}-#{$breakpoint} {
          margin-bottom: $value !important;
        }
        .ml-#{$key}-#{$breakpoint} {
          margin-left: $value !important;
        }
        .mr-#{$key}-#{$breakpoint} {
          margin-right: $value !important;
        }
        .mx-#{$key}-#{$breakpoint} {
          margin-left: $value !important;
          margin-right: $value !important;
        }
        .my-#{$key}-#{$breakpoint} {
          margin-top: $value !important;
          margin-bottom: $value !important;
        }
      }
    }
  }
}

@mixin padding-utilities($spacers, $breakpoints: $grid-breakpoints) {
  @each $key, $value in $spacers {
    .p-#{$key} {
      padding: $value !important;
    }
    .pt-#{$key} {
      padding-top: $value !important;
    }
    .pb-#{$key} {
      padding-bottom: $value !important;
    }
    .pl-#{$key} {
      padding-left: $value !important;
    }
    .pr-#{$key} {
      padding-right: $value !important;
    }
    .px-#{$key} {
      padding-left: $value !important;
      padding-right: $value !important;
    }
    .py-#{$key} {
      padding-top: $value !important;
      padding-bottom: $value !important;
    }
    @each $breakpoint, $width in $breakpoints {
      @include media-breakpoint-up($breakpoint) {
        .p-#{$key}-#{$breakpoint} {
          padding: $value !important;
        }
        .pt-#{$key}-#{$breakpoint} {
          padding-top: $value !important;
        }
        .pb-#{$key}-#{$breakpoint} {
          padding-bottom: $value !important;
        }
        .pl-#{$key}-#{$breakpoint} {
          padding-left: $value !important;
        }
        .pr-#{$key}-#{$breakpoint} {
          padding-right: $value !important;
        }
        .px-#{$key}-#{$breakpoint} {
          padding-left: $value !important;
          padding-right: $value !important;
        }
        .py-#{$key}-#{$breakpoint} {
          padding-top: $value !important;
          padding-bottom: $value !important;
        }
      }
    }
  }
}

// -----------------------------
// üß≠ Breakpoints
// -----------------------------
@mixin media-breakpoint-up($breakpoint) {
  $value: map.get($grid-breakpoints, $breakpoint);
  @if $value == null {
    @warn "‚ö†Ô∏è No value for this breakpoint #{$breakpoint}.";
  } @else if $value == 0 {
    @content;
  } @else {
    @media (min-width: $value) {
      @content;
    }
  }
}
